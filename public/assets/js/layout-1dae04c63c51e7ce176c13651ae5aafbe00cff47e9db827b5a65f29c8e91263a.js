var Layout=function(){var e="img/",n="css/",c=App.getResponsiveBreakpoint("md"),o=[],s=[],u=function(){var e,n=$(".page-content"),t=$(".sidemenu-container"),i=$("body");if(!0===i.hasClass("page-footer-fixed")&&!1===i.hasClass("sidemenu-container-fixed")){var o=App.getViewPort().height-$(".page-footer").outerHeight()-$(".page-header").outerHeight(),s=t.outerHeight();o<s&&(o=s+$(".page-footer").outerHeight()),n.height()<o&&n.attr("style","min-height:"+o+"px")}else{if(i.hasClass("sidemenu-container-fixed"))e=l(),!1===i.hasClass("page-footer-fixed")&&(e-=$(".page-footer").outerHeight());else{var a=$(".page-header").outerHeight(),r=$(".page-footer").outerHeight();(e=App.getViewPort().width<c?App.getViewPort().height-a-r:t.height()+20)+a+r<=App.getViewPort().height&&(e=App.getViewPort().height-a-r)}n.attr("style","min-height:"+e+"px")}},t=function(e,n){var t=location.hash.toLowerCase(),i=$(".sidemenu");if("click"===e||"set"===e?n=$(n):"match"===e&&i.find("li > a").each(function(){var e=$(this).attr("href").toLowerCase();1<e.length&&t.substr(1,e.length-1)==e.substr(1)&&(n=$(this))}),n&&0!=n.length&&"javascript:;"!==n.attr("href").toLowerCase()&&"#"!==n.attr("href").toLowerCase()){parseInt(i.data("slide-speed"),10),i.data("keep-expanded");!1===i.hasClass("sidemenu-hover-submenu")?i.find("li.nav-item.open").each(function(){var e=!1;$(this).find("li").each(function(){$(this).find(" > a").attr("href")!==n.attr("href")||(e=!0)}),!0!==e&&($(this).removeClass("open"),$(this).find("> a > .arrow.open").removeClass("open"),$(this).find("> .sub-menu").slideUp())}):i.find("li.open").removeClass("open"),i.find("li.active").removeClass("active"),i.find("li > a > .selected").remove(),n.parents("li").each(function(){$(this).addClass("active"),$(this).find("> a > span.arrow").addClass("open"),1===$(this).parent("ul.sidemenu").length&&$(this).find("> a").append('<span class="selected"></span>'),1===$(this).children("ul.sub-menu").length&&$(this).addClass("open")}),"click"===e&&App.getViewPort().width<c&&$(".sidemenu-container").hasClass("in")&&$(".page-header .responsive-toggler").click()}},i=function(){$(".sidemenu").on("click","li > a.nav-toggle, li > a > span.nav-toggle",function(e){var n=$(this).closest(".nav-item").children(".nav-link");if(!(App.getViewPort().width>=c&&!$(".sidemenu").attr("data-initialized")&&$("body").hasClass("sidemenu-closed")&&1===n.parent("li").parent(".sidemenu").length)){var t=n.next().hasClass("sub-menu");if(!(App.getViewPort().width>=c&&1===n.parents(".sidemenu-hover-submenu").length))if(!1!==t){var i=n.parent().parent(),o=n,s=$(".sidemenu"),a=n.next(),r=s.data("auto-scroll"),l=parseInt(s.data("slide-speed"),10);s.data("keep-expanded")||(i.children("li.open").children("a").children(".arrow").removeClass("open"),i.children("li.open").children(".sub-menu:not(.always-open)").slideUp(l),i.children("li.open").removeClass("open"));var d=-200;a.is(":visible")?($(".arrow",o).removeClass("open"),o.parent().removeClass("open"),a.slideUp(l,function(){!0===r&&!1===$("body").hasClass("sidemenu-closed")&&($("body").hasClass("sidemenu-container-fixed")?s.slimScroll({NaN:o.position().top}):App.scrollTo(o,d)),u()})):t&&($(".arrow",o).addClass("open"),o.parent().addClass("open"),a.slideDown(l,function(){!0===r&&!1===$("body").hasClass("sidemenu-closed")&&($("body").hasClass("sidemenu-container-fixed")?s.slimScroll({NaN:o.position().top}):App.scrollTo(o,d)),u()})),e.preventDefault()}else App.getViewPort().width<c&&$(".sidemenu-container").hasClass("in")&&$(".page-header .responsive-toggler").click()}}),$(document).on("click",".page-header-fixed-mobile .page-header .responsive-toggler",function(){App.scrollTop()}),r(),$(".sidemenu-container").on("click",".sidebar-search .remove",function(e){e.preventDefault(),$(".sidebar-search").removeClass("open")}),$(".sidemenu-container .sidebar-search").on("keypress","input.form-control",function(e){if(13==e.which)return $(".sidebar-search").submit(),!1}),$(".sidebar-search .submit").on("click",function(e){e.preventDefault(),$("body").hasClass("sidemenu-closed")&&!1===$(".sidebar-search").hasClass("open")?(1===$(".sidemenu-container-fixed").length&&$(".sidemenu-container .sidebar-toggler").click(),$(".sidebar-search").addClass("open")):$(".sidebar-search").submit()}),0!==$(".sidebar-search").length&&($(".sidebar-search .input-group").on("click",function(e){e.stopPropagation()}),$("body").on("click",function(){$(".sidebar-search").hasClass("open")&&$(".sidebar-search").removeClass("open")}))},l=function(){var e=App.getViewPort().height-$(".page-header").outerHeight(!0);return $("body").hasClass("page-footer-fixed")&&(e-=$(".page-footer").outerHeight()),e},a=function(){var e=$(".sidemenu");u(),0!==$(".sidemenu-container-fixed").length&&App.getViewPort().width>=c&&!$("body").hasClass("sidemenu-not-fixed")&&(e.attr("data-height",l()),App.destroySlimScroll(e),App.initSlimScroll(e),u())},r=function(){var e=$("body");e.hasClass("sidemenu-container-fixed")&&$(".sidemenu-container").on("mouseenter",function(){e.hasClass("sidemenu-closed")&&$(this).find(".sidemenu").removeClass("sidemenu-closed")}).on("mouseleave",function(){e.hasClass("sidemenu-closed")&&$(this).find(".sidemenu").addClass("sidemenu-closed")})},d=function(){var t=$("body");$.cookie&&"1"===$.cookie("sidebar_closed")&&App.getViewPort().width>=c&&($("body").addClass("sidemenu-closed"),$(".sidemenu").addClass("sidemenu-closed")),$("body").on("click",".sidebar-toggler",function(){var e=$(".sidemenu-container"),n=$(".sidemenu");$(".sidebar-search",e).removeClass("open"),t.hasClass("sidemenu-closed")?(t.removeClass("sidemenu-closed"),n.removeClass("sidemenu-closed"),$.cookie&&$.cookie("sidebar_closed","0")):(t.addClass("sidemenu-closed"),n.addClass("sidemenu-closed"),t.hasClass("sidemenu-container-fixed")&&n.trigger("mouseleave"),$.cookie&&$.cookie("sidebar_closed","1")),$(window).trigger("resize")})},h=function(){$(".page-header").on("click",'.hor-menu a[data-toggle="tab"]',function(e){e.preventDefault();var n=$(".hor-menu .nav").find("li.current");$("li.active",n).removeClass("active"),$(".selected",n).remove();var t=$(this).parents("li").last();t.addClass("current"),t.find("a:first").append('<span class="selected"></span>')}),$(".page-header").on("click",".search-form",function(){$(this).addClass("open"),$(this).find(".form-control").focus(),$(".page-header .search-form .form-control").on("blur",function(){$(this).closest(".search-form").removeClass("open"),$(this).unbind("blur")})}),$(".page-header").on("keypress",".hor-menu .search-form .form-control",function(e){if(13==e.which)return $(this).closest(".search-form").submit(),!1}),$(".page-header").on("mousedown",".search-form.open .submit",function(e){e.preventDefault(),e.stopPropagation(),$(this).closest(".search-form").submit()}),$(document).on("click",".mega-menu-dropdown .dropdown-menu",function(e){e.stopPropagation()})},p=function(){function n(e){var n=e.cancelFullScreen||e.webkitCancelFullScreen||e.mozCancelFullScreen||e.exitFullscreen;if(n)n.call(e);else if("undefined"!=typeof window.ActiveXObject){var t=new ActiveXObject("WScript.Shell");null!==t&&t.SendKeys("{F11}")}}function t(e){var n=e.requestFullScreen||e.webkitRequestFullScreen||e.mozRequestFullScreen||e.msRequestFullscreen;if(n)n.call(e);else if("undefined"!=typeof window.ActiveXObject){var t=new ActiveXObject("WScript.Shell");null!==t&&t.SendKeys("{F11}")}return!1}$(document).on("click",".fullscreen-btn",function(){var e=document.documentElement;return document.fullScreenElement&&null!==document.fullScreenElement||document.mozFullScreen||document.webkitIsFullScreen?n(document):t(e),!1})},f=function(){$("body").on("shown.bs.tab",'a[data-toggle="tab"]',function(){u()})},m=function(){var e=300,n=500;navigator.userAgent.match(/iPhone|iPad|iPod/i)?$(window).bind("touchend touchcancel touchleave",function(){$(this).scrollTop()>e?$(".scroll-to-top").fadeIn(n):$(".scroll-to-top").fadeOut(n)}):$(window).scroll(function(){$(this).scrollTop()>e?$(".scroll-to-top").fadeIn(n):$(".scroll-to-top").fadeOut(n)}),$(document).on("click",".scroll-to-top",function(e){return e.preventDefault(),$("html, body").animate({NaN:0},n),!1})},g=function(){$(".full-height-content").each(function(){var e,n=$(this);if(e=App.getViewPort().height-$(".page-header").outerHeight(!0)-$(".page-footer").outerHeight(!0)-$(".page-title").outerHeight(!0)-$(".page-bar").outerHeight(!0),n.hasClass("portlet")){var t=n.find(".portlet-body");App.destroySlimScroll(t.find(".full-height-content-body")),e=e-n.find(".portlet-title").outerHeight(!0)-parseInt(n.find(".portlet-body").css("padding-top"),10)-parseInt(n.find(".portlet-body").css("padding-bottom"),10)-5,App.getViewPort().width>=c&&n.hasClass("full-height-content-scrollable")?(e-=35,t.find(".full-height-content-body").css("height",e),App.initSlimScroll(t.find(".full-height-content-body"))):t.css("min-height",e)}else App.destroySlimScroll(n.find(".full-height-content-body")),App.getViewPort().width>=c&&n.hasClass("full-height-content-scrollable")?(e-=35,n.find(".full-height-content-body").css("height",e),App.initSlimScroll(n.find(".full-height-content-body"))):n.css("min-height",e)})};return{NaN:function(){h(),p()},NaN:function(e,n){t(e,n)},NaN:function(){a(),i(),d(),App.addResizeHandler(a)},NaN:function(){g(),f(),App.addResizeHandler(u),App.addResizeHandler(g)},NaN:function(){m()},NaN:function(){this.initHeader(),this.initSidebar(),this.initContent(),this.initFooter()},NaN:function(e,t){var i=$(".page-content .page-content-body");App.startPageLoading({NaN:!0}),$.ajax({NaN:"GET",NaN:!1,NaN:e,NaN:"html",NaN:function(e){App.stopPageLoading();for(var n=0;n<o.length;n++)o[n].call(e);0<t.length&&0===t.parents("li.open").length&&$(".sidemenu > li.open > a").click(),i.html(e),Layout.fixContentHeight(),App.initAjax()},NaN:function(e){App.stopPageLoading(),i.html("<h4>Could not load the requested content.</h4>");for(var n=0;n<s.length;n++)o[n].call(e)}})},NaN:function(e){o.push(e)},NaN:function(e){s.push(e)},NaN:function(){u()},NaN:function(){r()},NaN:function(){a()},NaN:function(){return App.getAssetsPath()+e},NaN:function(){return App.getAssetsPath()+n}}}();jQuery(document).ready(function(){Layout.init()});